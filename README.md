# GooView
仿照QQ中消除未读提醒中的粘性控件

### 实现过程
1. 先画出静态图；
2. 把静态值改为动态变化的值，计算出动态的值；
3. 不断的修改变量，进行view重绘，使其动起来；
4. 功能实现：
   1. 拖拽超出范围，实现拖拽球断开，不去绘制固定球和连接部分；
   2. 拖拽超出范围，断开，松开时，两个圆心距离小于规定范围距离，则回到初始位置。松开时，出现距离大于规定范围距离，则不去重绘拖拽球，并执行消失动画在touch位置上；
   3. 拖拽未超出范围，松开动态回到初始位置上。
 
#### 难点
1. 拖拽圆的动态变化和固定圆的半径的动态变化规律；
   1. 拖拽圆的圆心变化是由手势触摸事件的坐标决定的；
   2. 固定圆的半径大小是根据拖拽圆到固定圆心的距离与最大拖拽范围的比值。根据比值动态的变化来动态的获取固定圆的半径；
2. 由两个圆动态的获取过圆心和已知斜率的直线与圆的两个交点坐标；
3. 根据过圆心的四个坐标，和四个坐标的中心点作为控制点，画二阶贝塞尔曲线。
4. 拖拽圆移动不与手势一致问题:

   1. 该问题出现是因为通过手势获取的坐标是相对与屏幕的，而canvas的大小是除去状态栏高度，标题栏高度和导航栏高度的区域。所有view的绘制都是在canvas中进行绘制的。则，绘制的拖拽球与手势获取的坐标有一个高度差。
   2. 解决办法是：由于canvas是可以移动、旋转、缩放、扭曲的。则，可以将canvas的绘画区域转为与屏幕相同的高宽，则就实现了拖拽圆的移动与手势坐标的一致性。剩下的就是获取各栏的高度了。
   3. View.getWindowVisibleDisplayFrame(Rect frame);该方法是获取该view所有可见的区域大小。